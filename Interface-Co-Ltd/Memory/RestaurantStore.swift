//
//  RestaurantStore.swift
//  Interface-Co-Ltd
//
//  Created by ì•ˆìˆ˜ê²½ on 2022/11/03.
//

import Foundation

class RestaurantStore: ObservableObject {
    @Published var list: [Restaurant]   // binding view auto update
    
    init() {
        list = [
            Restaurant(title: "ì»´í¬ì¦ˆì»¤í”¼ ì„¸ì¢…ëŒ€ì ",
                       category: "ë””ì €íŠ¸",
                       content: "ì™€í”Œì´ ë§›ìˆì–´ìš”ğŸ¤¤",
                       location: "ì„œìš¸ ê´‘ì§„êµ¬ ëŠ¥ë™ë¡œ 195-16 ê¹€ì›ê´€ 1ì¸µ",
                       phone: "02-2088-7131",
                       operatingTime:
                        """
                        ì›”  08:00 - 23:00
                        í™”  08:00 - 23:00
                        ìˆ˜  08:00 - 23:00
                        ëª©  08:00 - 23:00
                        ê¸ˆ  08:00 - 23:00
                        í†   08:00 - 23:00
                        ì¼  08:00 - 23:00
                        """,
                       menu:
                        [
                            ("ì•„ë©”ë¦¬ì¹´ë…¸", "1,500"),
                            ("ì¹´í˜ë¼ë–¼", "2,500"),
                            ("ë°€í¬í‹°", "3,800"),
                            ("ê·¸ë¦°í‹°ë¼ë–¼", "3,500"),
                            ("í”Œë ˆì¸ìš”ê±°íŠ¸ìŠ¤ë¬´ë””", "3,500"),
                            ("í—ˆë‹ˆìëª½í‹°", "3,500"),
                            ("ë ˆëª¬ì—ì´ë“œ", "3,500")
                        ]
                      ),
            
            Restaurant(title: "ìŠ¤ì‹œë¶",
                       category: "ì¼ì‹",
                       content: "ë”°ì—°ì´ˆ ë§›ì§‘",
                       location: "ì„œìš¸ ê´‘ì§„êµ¬ ê´‘ë‚˜ë£¨ë¡œ17ê¸¸ 14-5",
                       phone: "02-466-6077",
                       operatingTime:
                        """
                        ì›”
                        11:30 - 20:00
                        15:00 - 16:30 ë¸Œë ˆì´í¬íƒ€ì„
                        19:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        í™”
                        11:30 - 20:00
                        15:00 - 16:30 ë¸Œë ˆì´í¬íƒ€ì„
                        19:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ìˆ˜
                        11:30 - 20:00
                        15:00 - 16:30 ë¸Œë ˆì´í¬íƒ€ì„
                        19:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ëª©
                        11:30 - 20:00
                        15:00 - 16:30 ë¸Œë ˆì´í¬íƒ€ì„
                        19:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ê¸ˆ
                        11:30 - 20:00
                        15:00 - 16:30 ë¸Œë ˆì´í¬íƒ€ì„
                        19:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        í† 
                        12:00 - 20:00
                        15:00 - 16:30 ë¸Œë ˆì´í¬íƒ€ì„
                        19:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ì¼
                        ì •ê¸°íœ´ë¬´ (ë§¤ì£¼ ì¼ìš”ì¼)
                        """,
                       menu:
                        [
                            ("ë”°ëœ»í•œ ì—°ì–´ì´ˆë°¥ 8pcs", "12,000")
                            
                        ]
                      ),
            
            Restaurant(title: "ë¯¸ì‹ë°˜ì ",
                       category: "ì¤‘ì‹",
                       content: "ë™ê¸€ë™ê¸€ íƒ•í›„ë£¨ íƒ•ìˆ˜ìœ¡ì´ ë§›ìˆëŠ” ì¤‘ì‹ë‹¹",
                       location: "ì„œìš¸ ê´‘ì§„êµ¬ êµ°ìë¡œ 70 1ì¸µ",
                       phone: "0507-1492-2020",
                       operatingTime:
                        """
                        ì›”
                        11:30 - 22:00
                        15:00 - 17:00 ë¸Œë ˆì´í¬íƒ€ì„
                        14:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        í™”
                        11:30 - 22:00
                        15:00 - 17:00 ë¸Œë ˆì´í¬íƒ€ì„
                        14:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ìˆ˜
                        11:30 - 22:00
                        15:00 - 17:00 ë¸Œë ˆì´í¬íƒ€ì„
                        14:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ëª©
                        11:30 - 22:00
                        15:00 - 17:00 ë¸Œë ˆì´í¬íƒ€ì„
                        14:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ê¸ˆ
                        11:30 - 22:00
                        15:00 - 17:00 ë¸Œë ˆì´í¬íƒ€ì„
                        14:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        í† 
                        11:30 - 22:00
                        15:00 - 17:00 ë¸Œë ˆì´í¬íƒ€ì„
                        14:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ì¼
                        11:30 - 22:00
                        15:00 - 17:00 ë¸Œë ˆì´í¬íƒ€ì„
                        14:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        
                        - ë°¤9ì‹œ ì£¼ë¬¸ë§ˆê°
                        """,
                       menu:
                        [
                            ("íƒ•í›„ë£¨íƒ•ìˆ˜ìœ¡(ì†Œ)", "15,000"),
                            ("íƒ•í›„ë£¨íƒ•ìˆ˜ìœ¡(ì¤‘)", "20,000"),
                            ("ë¯¸ì‹ì§œì¥ë©´(1ì¸ë¶„)", "6,500"),
                            ("ë¯¸ì‹ì§œì¥ë©´(ê³±ë°°ê¸°)", "7,500"),
                            ("í•´ë¬¼ì§¬ë½•(1ì¸ë¶„)", "8,000"),
                            ("í•´ë¬¼ì§¬ë½•(ê³±ë°°ê¸°)", "9,000"),
                            ("ë¯¸ì‹ë³¶ìŒë°¥(1ì¸ë¶„)", "7,000"),
                            ("ë¯¸ì‹ë³¶ìŒë°¥(ê³±ë°°ê¸°)", "8,500")
                        ]
                      ),
            Restaurant(title: "ë°©ì´ìƒ¤ë¸Œìƒ¤ë¸Œì¹¼êµ­ìˆ˜ ì„¸ì¢…ëŒ€ì ",
                       category: "ê¸°íƒ€",
                       content: "ì•¼ì±„ ë“¬ë¿ ê³ ê¸° ë“¬ë¿",
                       location: "ì„œìš¸ ê´‘ì§„êµ¬ êµ°ìë¡œ 106 1ì¸µ",
                       phone: "0507-1404-0365",
                       operatingTime:
                        """
                        ì›”
                        11:00 - 21:00
                        14:30 - 17:30 ë¸Œë ˆì´í¬íƒ€ì„
                        13:30, 20:00 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        í™”
                        11:00 - 21:00
                        14:30 - 17:30 ë¸Œë ˆì´í¬íƒ€ì„
                        13:30, 20:00 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ìˆ˜
                        11:00 - 21:00
                        14:30 - 17:30 ë¸Œë ˆì´í¬íƒ€ì„
                        13:30, 20:00 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ëª©
                        11:00 - 21:00
                        14:30 - 17:30 ë¸Œë ˆì´í¬íƒ€ì„
                        13:30, 20:00 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ê¸ˆ
                        11:00 - 21:00
                        14:30 - 17:30 ë¸Œë ˆì´í¬íƒ€ì„
                        13:30, 20:00 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        í† 
                        ì •ê¸°íœ´ë¬´ (ë§¤ì£¼ í† ìš”ì¼)
                        ì¼
                        ì •ê¸°íœ´ë¬´ (ë§¤ì£¼ ì¼ìš”ì¼)
                        
                        """,
                       menu:
                        [
                            ("ìƒ¤ë¸Œì„¸íŠ¸", "12,000")
                        ]
                      ),
            Restaurant(title: "ë±ƒë†ˆ",
                       category: "ê¸°íƒ€",
                       content: "ì›¨ì´íŒ…ì„ ê°ìˆ˜í• ë§Œí•œ ì–´ë¦°ì´ëŒ€ê³µì› ì¡°ê°œêµ¬ì´ ë§›ì§‘",
                       location: "ì„œìš¸ ê´‘ì§„êµ¬ ê´‘ë‚˜ë£¨ë¡œ19ê¸¸ 9 1ì¸µ",
                       phone: "010-5603-9282",
                       operatingTime:
                        """
                        ì›”
                        15:00 - 24:00
                        22:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        í™”
                        15:00 - 24:00
                        22:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ìˆ˜
                        15:00 - 24:00
                        22:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ëª©
                        15:00 - 24:00
                        22:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ê¸ˆ
                        15:00 - 24:00
                        22:30 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        í† 
                        13:00 - 23:30
                        22:00 ë¼ìŠ¤íŠ¸ì˜¤ë”
                        ì¼
                        ì •ê¸°íœ´ë¬´ (ë§¤ì£¼ ì¼ìš”ì¼)
                        """,
                       menu:
                        [
                            ("ë±ƒë†ˆ ì¡°ê°œêµ¬ì´ 2ì¸", "46,900"),
                            ("ë±ƒë†ˆ ì¡°ê°œêµ¬ì´ 3ì¸", "63,900"),
                            ("ë±ƒë†ˆ ì¡°ê°œì°œ 2ì¸", "46,900"),
                            ("ë±ƒë†ˆ ì¡°ê°œì°œ 3ì¸", "63,900"),
                            ("ë±ƒë†ˆ ì¡°ê°œêµ¬ì´ 4ì¸", "79,900"),
                            ("ë±ƒë†ˆ ì¡°ê°œì°œ 4ì¸", "79,900"),
                        ]
                      )
        ]
    }
    
    func insert(title: String, category: String, content: String, location: String, phone: String, operatingTime: String, menu: Array<(String, String)>) {
        list.insert(Restaurant(title: title, category: category, content: content, location: location, phone: phone, operatingTime: operatingTime, menu: menu), at: 0)
    }
    
    func update(restaurant: Restaurant?, title: String, category: String, content: String, location: String, phone: String, operatingTime: String, menu: Array<(String, String)>) {
        guard let restaurant = restaurant else {
            return
        }
        restaurant.content = content
        restaurant.category = category
        restaurant.title = title
        restaurant.location = location
        restaurant.phone = phone
        restaurant.operatingTime = operatingTime
        restaurant.menu = menu
    }
    
    func delete(restaurant: Restaurant) {
        list.removeAll{ $0.id == restaurant.id }
    }
    
    func delete(set: IndexSet) {
        for index in set {
            list.remove(at: index)
        }
    }
}
